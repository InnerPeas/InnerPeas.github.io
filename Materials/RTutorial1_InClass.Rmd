---
title: "RTutorial1 In Class Exercises"
author: "Zhanhao Zhang"
date: "9/11/2021"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Basic R Operations
Arithmetic Operators:
```{r}
3 + 4
5 - 3
12 * 11
17 / 3
8 %% 3
```

Power Operators:
```{r}
3 ** 2
3 ^ 2

2 ** 3
2 ^ 3

2 ^ (0.5)
pi ^ pi # pi is default to be 3.141593 in R
```

Assignment Operators:
```{r}
x <- 2
print(x)
x = 2
print(x)
```

Comparison Operators:
```{r}
print("Greater/Less than (or equal to):")
3 < 4
3 > 4
3 <= 4
3 >= 4
"apple" < "banana" # character objects
T < F # logical objects T = 1, F = 0
print("")

print("Check for inequality:")
3 != 4
4 != 4
"abc" != "abc" # characters
print("")

print("Check for equality:")
3 == 4
"bcd" == "bcd"
```

Logic Operators:
```{r}
print("AND:")
T & T
T & F
F & T
F & F
T && T
T && F
F && T
F && F
print("")

print("OR:")
T | T
T | F
F | T
F | F
T || T
T || F
F || T
F || F
print("")

print("NOT:")
!T
!F
```

Other Operators:
```{r}
factorial(5)
choose(5, 3)
sqrt(2)
?sqrt
```

## R Vectors
Numerical Vectors:
```{r}
x1 <- c(1, 3, 4) # c means concatenate
x1
x_reverse <- rev(1:5) # rev means reverse
x_reverse
x3 <- seq(1, 3, 0.5) # seq means sequence
x3
y <- c(x1, x_reverse, 100)
y
x_repeat <- rep(5, 3) # rep means repeat
x_repeat
x_repeat2 <- rep(c(1, 3), 2)
x_repeat2
x_repeat_each <- rep(c(1, 3), each=2)
x_repeat_each
```

Character Vectors:
```{r}
x <- c('stat', "A", "A B", 'C')
x
letters[3:6]
LETTERS[c(1, 14, 26)]
# letters and LETTERS store the 26 alphabets by default
```

Logic Vectors:
```{r}
x <- c(T, F, TRUE, FALSE)
x
y <- 1:5 < 3
y
z <- y + 1
z
# TRUE = 1, FALSE = 0
```


## R Vector Functions
```{r}
x <- c(2, 4, 3, 1, 5, 7, 9, 8, 10, 6)
sum(x)
prod(x)
min(x)
max(x)
cumsum(x)
cummin(x)
cummax(x)
diff(x)
sort(x)
# The above ones are self-descriptive

order(x) # the positions of ith smallest number
x[order(x)] # sorted array from smallest to largest
```

## R Vector Slicing
```{r}
x <- c(1, 3, 5, 7, 9)
x[3]
x[c(3)]
x[c(2, 4)]
#x[2, 4] # Error!
x[-c(2, 4)]
x[c(T, T, F, F, T)]
x[c(T, F)]
x[c(T, F, T, F, T)]
x[x %% 3 == 0]
x[which(x %% 3 == 0)]
```

## R Vector Operations
Arithmetic Operations
```{r}
x <- c(1, 3, 5)
y <- c(2, 4, 6)
x + y
x - y
x * y
x / y
x ^ y
x ** y
x %% y
```

Vectoried functions
```{r}
x <- 1:5
cos(x)
sin(x)
tan(x)
cosh(x)
sinh(x)
tanh(x)
sqrt(x)
log(x)
exp(x)
abs(x)
```

## R List
```{r}
L <- list(M=1:4, A=letters[1:6], F=function(x){x^2})
L
```

List indexing:
Use [[i]] or $NAME_OF_i to access the content of ith list component
[i] gives the entire ith component
```{r}
LL <- list(num=1:3, L=list(let_low=letters[3:1], LETTERS[1:2]))
LL
#LL$num
LL[[1]]
LL[1]
LL[[1]][1]

LL$L
LL$L$let_low
LL$L[[1]]
LL$L[[2]]
```


## R Matrix
Create a matrix:
```{r}
matrix(1:12, nrow=3, ncol=4, byrow=F)
matrix(1:12, nrow=3, byrow=F)
matrix(1:12, nrow=3, byrow=T)
cbind(1:3, 4:6, 7:9, 10:12)
rbind(c(1, 4, 7, 10), c(2, 5, 8, 11), c(3, 6, 9, 12))
```

Matrix arithmetic -- elementwise:
```{r}
x <- matrix(1:4, nrow=2)
y <- x + 1
x
y
x + y
x - y
x * y
x / y
x %% y
x ^ y
x ** y
```

Matrix Arithmetic -- linear algebra:
```{r}
x <- matrix(1:6, nrow=2)
y <- matrix(1:6, nrow=3)
x
y
print("Matrix Multiplications:")
x %*% y
y %*% x
print("Matrix Transpose:")
x
t(x)
print("Matrix Inversion:")
z <- matrix(1:4, nrow=2)
z
solve(z)
```

## R Dataframe
```{r}
df <- data.frame(num=1:15, let=letters[1:15])
df
head(df)
df$num
df[,1]
df[3,]
df$column3 <- 2:16
df
```

## R Read/Write Files
Read files:
```{r}
df_read <- read.table("data_to_read.txt", header=T, sep=",")
df_read
df_read_noHeader <- read.table("data_to_read.txt", sep=",")
df_read_noHeader
df_read_wrongSeparator <- read.table("data_to_read.txt", header = T, sep="\t")
df_read_wrongSeparator # values are all cluttered together in the output
```

Write files:
```{r}
df_to_write <- data.frame(col1 = 1:10, col2 = 2:11)
write.table(df_to_write, "data_to_write_comma.txt", sep=",", row.names = F)
write.table(df_to_write, "data_to_write_tab.txt", sep="\t", row.names = F)
```


## R Functions
```{r}
square <- function(x){
  squared_value <- x^2
  return(squared_value)
}
square(3)
square(16)
```

Function with default value:
```{r}
plus <- function(x, y=1){
  return(paste0(x, "+", y))
}
plus(2, 3)
plus(2)
plus(x = 2)
plus(y = 3, x = 2)
```

## R Loops
For-loop
```{r}
for(i in 1:5){
  print(i)
}
```

While-loop:
```{r}
i <- 1
while(i < 5){
  print(i)
  i <- i + 1
}
```

## R Plots
Scatter plot and line plot:
```{r}
x <- 1:10
y <- x^2
plot(x, y) # scatter plot
plot(x, y, type="l", col="red") # line plot
```

histogram:
```{r}
x <- rnorm(1000)
hist(x)
hist(x, probability = T)
```

QQ-plot:
```{r}
x <- rnorm(1000)
y <- rnorm(2000, mean = 1, sd = 2)
qqnorm(x)
qqline(x, col="red")

qqplot(x, y)
qqline(y, col="red")
```
